---
layout: default
title: Warp
parent: Style library
grand_parent: Styles
nav_order: 4
redirect_from:
  - /flair/styles/library/frayed
---

<figure>
 <img src="/media/styles/warp/header.jpg" alt="Warp header">
</figure>

# Warp shader style
{: .no_toc }

Previously Frayed shader style

<details close markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>

[Back to Warp Features](https://artineering.io/styles/warp
){: .aio-btn .d-block}

## Style breakdown

The warp shader style emulates the broken edges commonly found in paintings in 3D, while providing other painterly effects often found using traditional painting media such as pigment turbulence, edge darkening, canvas textures and more.

This shader style depends on the [Flair material](/flair/materials/flair-shader), which can be assigned onto any mesh object. The material embeds painterly reflectance models and supports the art-direction framework of Flair. The material also contains a	 `Deformed` setting attribute, which allows to attach the broken edges to animated objects.

The broken edges from the warp shader style are generated by rendering a separate inflated 3D noise for each object. This noise is fractalized so that the broken edges retain the same pixel size, no matter how close/far the object is from the camera. Finally, the fractalized noise distorts the image to achieve the warped look. Individual meshes can be excluded entirely from the noise calculations by toggling the noise instances using the [Flair Toolbox](/flair/toolbox).

While production-proven, the warp shader style may not have all features that you need. So please let us know if [we can help](https://artineering.io/agency) polish the look exactly to your requirements and pipeline.

In this page, we only document global attributes specific to the warp shader style. To learn more about other global attributes, please see the [globals node documentation](/flair/getting-started/globals).

---

## Tutorials

<div class="d-flex flex-justify-around">
{% include responsive-embed url="https://www.youtube.com/embed/WXLLQd5TXtM" width="380px" caption="Warp 101 - Break 3D edges with Warped Edges" %}

{% include responsive-embed url="https://www.youtube.com/embed/RdCEW2SIUlU" width="380px" caption="Warp 102 - Warped Edges In Nuke (Arnold-MNPRX)"%}
</div>

---

A series of warped attributes are provided within the [globals node](/flair/getting-started/globals/) to control and refine the style.

<figure class="aio-ui">
    <img src="/media/styles/warp/style-attrs.png" alt="Style attributes">
    <figcaption>Style attributes in the configuration node</figcaption>
</figure>

---

{% include /effects/ao.md %}

---

## Atmospheric Effects

Atmospheric effects are useful to add depth to bigger scenes by changing the color within a specific range. 

### Atmosphere Tint
Defines a custom atmospheric perspective color, making things at distance tint towards the specified color.

### Atmosphere Range
Defines the range at which the atmospheric tint will start and end. Set these values high to _not_ have the atmosphere range affecting your scene.

If you wish to exclude an object from the atmosphere tint affect (e.g., a background plane), enable the _Color Plane_ attribute in the Flair shader material assigned to that object.

The units work as meter/cm, so keep the  _World Scale_ in mind when setting up this attribute.
{: .info}

---

## Warp

### Enable
Creates inflated noise instances of objects in the scene to be used for the warped stylization within Maya. You can disable this attribute if you don't want warped distortions or do not wish to see the noise covering all scene elements in normal Viewport 2.0.

### Inflation
Amount of inflation of the noise objects, default: 0.05. Inflation is required to keep the warped distortions outside of the geometry.
<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/inflation.mp4" type="video/mp4">
	</video>
	<figcaption>Inflation between 0 and 0.5</figcaption>
</figure>

### Frequency
Frequency of the warped distortions, default: 50.0.
- Higher frequency ⇒ smaller distortions
- Lower frequency ⇒ bigger distortions

<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/frequency.mp4" type="video/mp4">
	</video>
	<figcaption>Frequency between 0 and 200</figcaption>
</figure>

Note: if the frequency is too high and the noise enters the sub-pixel size, it will flicker.
{: .warning}

### Amplitude
Determines the amount of warp distortions, default 1.0. 

<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/amplitude.mp4" type="video/mp4">
	</video>
	<figcaption>Varying amplitude between 0 and 10</figcaption>
</figure>

Note: Increasing the _Amplitude_ will also require a higher _Inflation_ amount.
{: .info}


### Feathering
Determines the softness of warped distortions, default 0.0. 

---

### Pigment Density
The concentration of pigments, giving the render either a diluted or a more saturated and darker look.

<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/pigment-density.mp4" type="video/mp4">
	</video>
	<figcaption>Pigment Density between 0.5 and 2</figcaption>
</figure>

### Paper Granulation
The accumulation of pigments on the valleys of the paper (canvas). Concentrates the pigments on the valleys and creates a more saturated and darker look.

<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/paper-granulation.mp4" type="video/mp4">
	</video>
	<figcaption>Paper Granulation between -1 and 5</figcaption>
</figure>

---

### Edge Darkening Intensity
Strength of the edge darkening effect. A higher intensity will concentrate more color on the edges.
<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/edge-darkening-intensity.mp4" type="video/mp4">
	</video>
	<figcaption>Edge Darkening Intensity between 0 and 3</figcaption>
</figure>

### Edge Darkening Width
Width for the edge darkening effect.
<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/edge-darkening-width.mp4" type="video/mp4">
	</video>
	<figcaption>Edge Darkening Width between 0 and 30</figcaption>
</figure>

Note: A wider edge darkening will require an increase in intensity, as well.
{: .info}

---

### Drybrush Threshold
Sharpness of the drybrush application. Using a dry brush will only apply pigments to the peaks of the canvas, leaving the canvas color appear at the valleys of its profile.

<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/drybrush-threshold.mp4" type="video/mp4">
	</video>
	<figcaption>Drybrush Threshold between 0 and 20</figcaption>
</figure>

### Drybrush color
Color of the drybrush application.
<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/drybrush-color.mp4" type="video/mp4">
	</video>
	<figcaption>Different drybrush colors.</figcaption>
</figure>

### Max Gaps Overlaps Width
Maximum width of the gaps & overlaps effect.
<figure>
	<video autoplay loop muted playsinline>
	    <source src="/media/styles/warp/max-gaps-overlaps-width.mp4" type="video/mp4">
	</video>
	<figcaption>Gaps and overlaps width between 1 and 5</figcaption>
</figure>

---

## Post Processing
Post Processing attributes contain simple but useful self-explanatory post-processing filters
* Saturation
* Contrast
* Brightness

This group is closed by default, but can be opened by clicking on it.
{: .info}

------------------------
------------------------

## Warp Settings

The Warp settings allow additional functionality for the Warp shader style. The available settings can be found in the [Flair toolbox](/flair/toolbox), once you click on the `Warp settings` button.

<figure class="aio-ui aio-window">
    <img src="/media/toolbox/warp/warp-settings.png" alt="The window with warp settings">
    <figcaption>The Warp settings window</figcaption>
</figure>

### Toggle instance on selected
This button will toggle the inflated instance on the selected objects on/off. Especially useful for transparent objects, so that only objects behind warp the end result.

### Bake effect positions on selected
This button is a convenience function that will check the `Deformed` setting attribute on materials where the selected objects have been assigned into.

------------------------
------------------------


## Considerations

### Attach warped distortions onto objects
Activate the `Deformed` attribute within the materials to bake the warped distortions position onto animated objects.

### Nurbs surfaces
Nurbs surfaces can't save any data in vertex colors, so warped distortions won't stick onto the objects and it won't be possible to use VertexFX on them.

### Inflation
- Vertex normals in objects that are not sub-divided will need to be averaged for hard-edged objects. Otherwise, each face vertex has its own normal and inflation will leave gaps between each inflated face, creating uncoherent warped distortions.
- Thin objects should have faces on both sides for the object to inflate correctly.

### Warnings
`...due to multiply-instanced child`
Whenever you get this warning, uncheck the *Enable* attribute in the Warp stylization, make the edits that you previously wanted to do and re-enable the Warp stylization.